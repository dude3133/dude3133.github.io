(function () {
    'use strict';
    angular
        .module('App',
        [
            'ngRoute'
        ]);
})();
(function () {
    'use strict';

    angular
        .module('App')
        .controller('homeController', homeController);

    homeController.$inject = ['menuService'];

    function homeController(menuService) {
        var vm = this;

        activate();

        function activate() {
            //menuService.setMenu([{ title: "First from home", url: "#/home", active: true, disabled: false }]);
        }
    }
})();
(function () {
    'use strict';

    angular
        .module('App')
        .controller('menuController', menuController);

    menuController.$inject = ['menuService'];

    function menuController(menuService) {
        var vm = this;

        vm.items = menuService.getMenu();
        menuService.setMenuFunction = itemChanged;
        //[
        //    { title: "First",url:"#/home" , active: true, disabled: false }
        //];
        vm.activeMenuItem = 'Home';

        function itemChanged(item) {
            vm.items = item
        }
    }
})();
(function () {
    'use strict';

    angular
        .module('App')
        .service('menuService', menuService);

    function menuService() {
        var serv = this;
        var menu = [
        { title: "Home", url: "#/home", active: true, disabled: false },
        { title: "HTML course", url: "#/courses/html/1/html1", active: false, disabled: false },
        { title: "Git course", url: "", active: false, disabled: true }];
        serv.setMenuFunction = null;
        serv.setMenu = setMenu;
        serv.getMenu = getMenu;
        return serv;

        function setMenu(items) {
            if (serv.setMenuFunction != null) {
                serv.setMenuFunction(items);
            }
        }
        function getMenu() {
            return menu;
        }
    }
})();
(function () {
    'use strict';
    angular
        .module('App')
        .config(routesConfig);

    routesConfig.$inject = ['$routeProvider'];

    function routesConfig($routeProvider) {
        $routeProvider
            .when('/',
            {
                templateUrl: 'app/home/home.html',
                controller: 'homeController as home',
            })
            .when('/courses/:name*/:course',
            {
                templateUrl: function (urlattr) {
                    return 'app/courses/' + urlattr.name + '/' + urlattr.course + '.html';
                }
            })
            .when('/home',
            {
                templateUrl: 'app/home/home.html',
                controller: 'homeController as home',
            })
            .when('/about',
            {
                templateUrl: 'app/about/about.html'
            })
            .when('/contact',
            {
                templateUrl: 'app/contact/contact.html'
            })
            .otherwise({
                templateUrl: 'app/error/error.html'
            });
    }
})();